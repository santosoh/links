openapi: 3.0.0
info:
  title: Grablink API
  version: '1.0'
  description: |
    # Introduction
    Grab Link REST API is developed to provide standard interface for merchant to accept payment from website or app. As some API may contain sensitive data in request/response message, merchant need to ensure that their environment is complied with PCI DSS security standard requirements before using those API.

    Merchant may also consider to use Links Client Side SDK (Links JS) to reduce the scope of PCI DSS requirement through tokenisation of card data.

    # Idempotency
    Every API request from merchant to Grab Link may contain Idempotency-Key in the header (except for HTTP GET request), and used to identify subsequent retries of the same request, ie. if a request is sent with same Idempotency-Key with same details, eg. amount, payment method, etc, Grab Link will simply return previously completed response without performing any new action. Conversely, API request will return error If duplicate Idempotency-Key is sent with different details to prevent accidental usage.

    Idempotency-Key will be kept for 24 hours, and any request with the same Idempotency-Key beyond that time frame will be considered as a new request.

    # Encryption
    Other than raw PAN, merchant may encrypt the card data before sending through API.

    Grab Link will provides iOS and Android SDK to support merchant app to perform encryption, as well as web SDK to support merchant website.

    # Webhook
    Merchant is able to set webhook endpoint for supported payment events on Grab Link Merchant Portal, and the result of any API request will be posted to this endpoint. This is especially necessary when the customer is redirected to another website (eg. in the case of 3D Secure Authentication).

    # Signature Hash
    Merchant need to calculate signature hash and include it in header, to ensure data integrity when consuming Grab Link API. Each merchant will be assigned with a secret key, and this key would be used when generating HMAC signature.

    ### Step to generate HMAC signature:
    1. Generate timestamp (unix timestamp)
    2. Concatenate request-body with timestamp in the following format:
    concatenated-string = {request-body} + ",t={timestamp}"
    3. Calculate HMAC using SHA512 hashing
    signature-hash = hmac-sha512(concatenated-string, {secret-key})
    4. Set the hex string representation of the HMAC result to upper case, and use it as the signature hash in base64 encoding format.
    5. Include Timestamp to header
    6. Include Signature to header

    ### Sample:
    ### Example of message to be signed
    ```json
    {"merchant_order_num":"LESTERCHAN-001","capture_after_hours":"0","route_indicator":"LinksMerchant","require_3ds":true,"payer":{"reference_id":"k11ir27iftfjescf4bhc18qpbdsv2dl7","name":"Lester Chan","email":"lester.chan@grab.com","phone":"+6598765432","billing_address":{"city":"Singapore","country":"Singapore","state":"Singapore","building_name":"Grab HQ","street":"Media Link","postal_code":"139305"},"shipping_address":{"city":"SG","country":"Singapore","state":"SG","building_name":"Marina One","street":"9 Straits View","postal_code":"018937"}},"statement_descriptor":"LINKS","cart":{"cart_total":"16.00","cart_tax":"3.00","cart_shipping_fee":"2.00","cart_items":[{"item_name":"lesterchan.net Square Sticker","item_quantity":1,"item_price":"6.00","item_image":"https://lesterchan.net/content/themes/lesterchan.net/img/avatars/100.jpg","item_option":"Transparent"},{"item_name":"lesterchan.net Rectangle Sticker","item_quantity":2,"item_price":"2.00","item_image":"https://lesterchan.net/content/themes/lesterchan/img/logos/logo-800x600.png","item_option":"Large"}],"cart_currency":"SGD","cart_discount":"0.00"},"hpp":{"return_url":"https://lesterchan.net/shop/success","cancel_url":"https://lesterchan.net/shop/cancellester.chan@grab.com","phone":"+6598765432","billing_address":{"city":"Singapore","country":"Singapore","state":"Singapore","building_name":"Grab HQ","street":"Media Link","postal_code":"139305"},"shipping_address":{"city":"SG","country":"Singapore","state":"SG","building_name":"Marina One","street":"9 Straits View","postal_code":"018937"}},"statement_descriptor":"LINKS","cart":{"cart_total":"16.00","cart_tax":"3.00","cart_shipping_fee":"2.00","cart_items":[{"item_name":"lesterchan.net Square Sticker","item_quantity":1,"item_price":"6.00","item_image":"https://lesterchan.net/content/themes/lesterchan.net/img/avatars/100.jpg","item_option":"Transparent"},{"item_name":"lesterchan.net Rectangle Sticker","item_quantity":2,"item_price":"2.00","item_image":"https://lesterchan.net/content/themes/lesterchan/img/logos/logo-800x600.png","item_option":"Large"}],"cart_currency":"SGD","cart_discount":"0.00"},"hpp":{"return_url":"https://lesterchan.net/shop/success","cancel_url":"https://lesterchan.net/shop/cancel","browser_info":{"ip":"127.0.0.1","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36"}}}
    ```

    ### Signature Calculation
    ```sh
    $body = ... // 'refer to the sample message above'
    $hash_secret = get_hash_secret() // 'example: 007d252f0d0e47f9965589b7f7d011ba'
    $timestamp = get_timestamp() // 'example: 1620978893'
    $concatenated_string = $body + ",t=" + $timestamp
    $signature = hmac_sha512($concatenated_string, $hash_secret) // '10ecc1da78c0bed907b2c42f518c482bbe501c758955858adcb4c353ac1675ccc0bd32a84bae3db62757bb46e676a8ca25c3b0104ff086325f7e8a5d8e52a0ed'
    $signature = upper_case($signature) // '10ECC1DA78C0BED907B2C42F518C482BBE501C758955858ADCB4C353AC1675CCC0BD32A84BAE3DB62757BB46E676A8CA25C3B0104FF086325F7E8A5D8E52A0ED'
    $signature = base64_encode($signature) // 'MTBFQ0MxREE3OEMwQkVEOTA3QjJDNDJGNTE4QzQ4MkJCRTUwMUM3NTg5NTU4NThBRENCNEMzNTNBQzE2NzVDQ0MwQkQzMkE4NEJBRTNEQjYyNzU3QkI0NkU2NzZBOENBMjVDM0IwMTA0RkYwODYzMjVGN0U4QTVEOEU1MkEwRUQ=''
    ```
  contact:
    email: grablink.engineering@grab.com
    name: GrabLink Engineering
  x-logo:
    url: 'https://www.grab.com/sg/wp-content/uploads/sites/4/2017/06/New-Masthead_900x450.png'
    altText: Grab logo
servers:
  - url: 'https://links-checkout.stg-myteksi.com/api'
    description: Staging
paths:
  /v1/transaction:
    post:
      summary: Create Transaction
      operationId: post-transaction
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  trans_id:
                    type: string
                  action_id:
                    type: string
                  action_time:
                    type: string
                  merchant_action_id:
                    type: string
                  merchant_order_num:
                    type: string
                  amount:
                    $ref: '#/components/schemas/TransAmountResponse'
                  terminal_data:
                    type: object
                    properties:
                      terminal_id:
                        type: string
                  result:
                    $ref: '#/components/schemas/TransResult'
                  auth_code:
                    type: string
                  cvc_result:
                    type: string
                  avs_result:
                    type: string
                  acquirer_reference:
                    type: string
                  three_ds:
                    type: object
                    properties:
                      redirection_url:
                        type: string
                      sdk_auth_response:
                        type: string
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  payment_method:
                    type: object
                    properties:
                      card:
                        $ref: '#/components/schemas/PaymentMethodCardResponse'
                      token:
                        $ref: '#/components/schemas/PaymentMethodTokenResponse'
                      card_present:
                        $ref: '#/components/schemas/PaymentMethodCardPresentResponse'
                      fingerprint:
                        type: string
                  status:
                    $ref: '#/components/schemas/TransStatus'
                  metadata:
                    type: string
              examples:
                example:
                  value:
                    trans_id: string
                    action_id: string
                    action_time: string
                    merchant_action_id: string
                    merchant_order_num: string
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
                    auth_code: string
                    cvc_result: string
                    avs_result: string
                    acquirer_reference: string
                    three_ds:
                      redirection_url: string
                      sdk_auth_response: string
                    payer:
                      reference_id: string
                    payment_method:
                      card:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        variant: string
                        issuing_country: string
                        issuing_bank: string
                      token:
                        token_id: string
                      card_present:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        icc_data: string
                      fingerprint: string
                    status: pending
                    metadata: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  description: 'Unique transaction id assigned by merchant for each request. '
                  maxLength: 64
                merchant_order_num:
                  type: string
                  description: The value of this parameter can be used to refer a transaction to the particular order record in merchant's system.
                  maxLength: 64
                amount:
                  $ref: '#/components/schemas/TransAmountRequest'
                capture_method:
                  type: string
                  description: |-
                    Default is manual.

                    manual: Authorise will only be captured in capture endpoint 

                    immediate: Transaction will be captured immediately. 
                  enum:
                    - immediate
                    - manual
                  maxLength: 16
                  default: manual
                route_indicator:
                  type: string
                  description: Used to define routing algorithm to be used in a transaction
                  maxLength: 16
                interaction_mode:
                  type: string
                  description: |-
                    Default is manual

                    card_on_file: Credential on File is cardholder initiated transaction where they authorised a merchant to store their payment details.

                    manual: PAN Manual Entry

                    recurring: Recurring transaction, same as card_on_file but it is initiated by merchant.
                  enum:
                    - card_on_file
                    - manual
                    - recurring
                  maxLength: 16
                require_3ds:
                  type: boolean
                  description: 'This parameter indicates if you want to perform 3DS for a transaction or not. Allowed values: true or false. Default value is false.'
                three_ds:
                  type: object
                  description: Mandatory when require_3ds parameter is set.
                  properties:
                    return_url:
                      type: string
                      maxLength: 256
                      format: uri
                      description: |-
                        Merchant's endpoint for redirection after 3DS authentication process completion.

                        Mandatory for Web/Browser Based 3DS Authentication.
                    browser_info:
                      $ref: '#/components/schemas/TransBrowserInfo'
                    account_info:
                      $ref: '#/components/schemas/TransAccountInfo'
                    sdk_auth_request:
                      type: string
                      description: |-
                        Mandatory for Native App Based 3DS2 Authentication.

                        Packed form of all other properties from 3DS2 SDK. The value consists of App ID, SDK Trans ID, Encrypted Device Data, Ephemeral Public Key, SDK Ref Number, SDK Max Timeout, Message Version, Interface and UI Type Options,

                        Can be obtained from 3DS2 SDK.
                      maxLength: 65000
                three_ds_data:
                  $ref: '#/components/schemas/Trans3dsData'
                payer:
                  $ref: '#/components/schemas/TransPayerRequest'
                terminal_data:
                  type: object
                  properties:
                    terminal_id:
                      type: string
                      maxLength: 64
                    pos_entry_mode:
                      type: object
                      properties:
                        pan_entry:
                          type: string
                          enum:
                            - unknown
                            - manual
                            - magstripe
                            - chip
                            - contactless_chip
                            - contactless_magstripe
                            - fallback_magstripe
                          maxLength: 32
                        pin_entry:
                          type: string
                          enum:
                            - unknown
                            - enabled
                            - disabled
                            - error
                          maxLength: 16
                    pos_condition_code:
                      type: string
                      enum:
                        - attended
                        - unattended
                        - mail_order
                      maxLength: 16
                device_info:
                  $ref: '#/components/schemas/TransDeviceInfo'
                payment_method:
                  type: object
                  properties:
                    card:
                      $ref: '#/components/schemas/PaymentMethodCardRequest'
                    token:
                      $ref: '#/components/schemas/PaymentMethodTokenRequest'
                    card_present:
                      $ref: '#/components/schemas/PaymentMethodCardPresentRequest'
                statement_descriptor:
                  type: string
                  maxLength: 128
                sub_merchant:
                  $ref: '#/components/schemas/TransSubMerchant'
                metadata:
                  type: string
              required:
                - merchant_action_id
                - amount
                - payment_method
            examples:
              example:
                value:
                  merchant_action_id: string
                  merchant_order_num: string
                  amount:
                    currency: SGD
                    value: string
                  capture_method: manual
                  route_indicator: string
                  interaction_mode: card_on_file
                  require_3ds: true
                  three_ds:
                    return_url: 'http://example.com'
                    browser_info:
                      accept_header: string
                      user_agent: string
                      language: string
                      color_depth: 0
                      screen_height: 0
                      screen_width: 0
                      java_enabled: true
                      javascript_enabled: true
                      timezone_offset: strin
                    account_info:
                      account_age_indicator: '01'
                      account_change_date: '20190824'
                      account_change_indicator: '01'
                      account_date: '20190824'
                      account_password_change_date: '20190824'
                      account_password_change_indicator: '01'
                      account_purchase_count: 0
                      account_provisioning_attempts: 0
                      account_day_transactions: 0
                      account_year_transactions: 0
                      payment_account_age: '20190824'
                      payment_account_age_indicator: '01'
                      ship_address_usage_date: '20190824'
                      ship_address_usage_indicator: '01'
                      ship_name_indicator: '01'
                      suspicious_account_activity: true
                    sdk_auth_request: string
                  three_ds_data:
                    xid: string
                    ds_trans_id: string
                    status: 'Y'
                    eci: str
                    auth_value: string
                    auth_algo: string
                    version: string
                  payer:
                    reference_id: string
                    name: string
                    email: string
                    phone: string
                    billing_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                    shipping_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                  terminal_data:
                    terminal_id: string
                    pos_entry_mode:
                      pan_entry: unknown
                      pin_entry: unknown
                    pos_condition_code: attended
                  device_info:
                    app_version: string
                    platform: string
                    spec: string
                    ip: string
                    geo_location:
                      latitude: string
                      longitude: string
                  payment_method:
                    card:
                      number: string
                      expiry_month: string
                      expiry_year: string
                      cvc: string
                      holder_name: string
                      create_token: false
                    token:
                      token_id: string
                    card_present:
                      number: string
                      expiry_month: string
                      expiry_year: string
                      cvc: string
                      sequence_num: string
                      icc_data: string
                      track2_data: string
                  statement_descriptor: string
                  sub_merchant:
                    id: string
                    name: string
                    city: string
                    country: st
                    state: string
                    street: string
                    postal_code: string
                    mcc: stri
                  metadata: string
        description: Create Transaction
      callbacks:
        transactionCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Transaction is created.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/TransactionEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      description: Create Transaction
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Transaction
      security: []
      x-internal: false
    parameters: []
  '/v1/transaction/{trans_id}':
    parameters:
      - schema:
          type: string
        name: trans_id
        in: path
        required: true
        description: GL Transaction ID from Authorization Response
    get:
      summary: Retrieve Transaction
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  trans_id:
                    type: string
                  merchant_order_num:
                    type: string
                  amount:
                    $ref: '#/components/schemas/TransAmountResponse'
                  terminal_data:
                    type: object
                    properties:
                      terminal_id:
                        type: string
                  auth_code:
                    type: string
                  cvc_result:
                    type: string
                  avs_result:
                    type: string
                  acquirer_reference:
                    type: string
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  payment_method:
                    type: object
                    properties:
                      card:
                        $ref: '#/components/schemas/PaymentMethodCardResponse'
                      token:
                        $ref: '#/components/schemas/PaymentMethodTokenResponse'
                      card_present:
                        $ref: '#/components/schemas/PaymentMethodCardPresentResponse'
                      fingerprint:
                        type: string
                  status:
                    type: string
                    enum:
                      - pending
                      - action required
                      - failed
                      - authorised
                      - cancelling
                      - cancelled
                      - capturing
                      - captured
                      - refunding
                      - refunded
                      - partial refunded
                  metadata:
                    type: string
                  trans_logs:
                    type: array
                    items:
                      type: object
                      properties:
                        action_id:
                          type: string
                        action_type:
                          type: string
                          description: ''
                        status:
                          $ref: '#/components/schemas/TransStatus'
                        action_time:
                          type: string
                        merchant_action_id:
                          type: string
                        initiating_reason:
                          type: string
                        amount:
                          type: object
                          properties:
                            currency:
                              type: string
                            value:
                              type: string
                        result:
                          $ref: '#/components/schemas/TransResult'
                        three_ds:
                          type: object
                          properties:
                            redirection_url:
                              type: string
                            sdk_auth_response:
                              type: string
              examples:
                example:
                  value:
                    trans_id: string
                    merchant_order_num: string
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    auth_code: string
                    cvc_result: string
                    avs_result: string
                    acquirer_reference: string
                    payer:
                      reference_id: string
                    payment_method:
                      card:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        variant: string
                        issuing_country: string
                        issuing_bank: string
                      token:
                        token_id: string
                      card_present:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        icc_data: string
                      fingerprint: string
                    status: pending
                    metadata: string
                    trans_logs:
                      - action_id: string
                        action_type: string
                        status: pending
                        action_time: string
                        merchant_action_id: string
                        initiating_reason: string
                        amount:
                          currency: string
                          value: string
                        result:
                          code: string
                          message: string
                          raw_message: string
                        three_ds:
                          redirection_url: string
                          sdk_auth_response: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: get-transaction-id
      parameters:
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            format: uuid
          in: header
          name: X-Request-ID
        - schema:
            type: string
            minLength: 1
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      description: Retrieve Transaction
      tags:
        - Transaction
      security: []
  '/v1/transaction/{trans_id}/capture':
    parameters:
      - schema:
          type: string
        name: trans_id
        in: path
        required: true
        description: GL Transaction ID from Authorization Response
    post:
      summary: Capture
      operationId: post-transaction-trans_id-capture
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModificationResponse'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      description: Capture
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Capture
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
                amount:
                  $ref: '#/components/schemas/TransAmountRequest'
                terminal_data:
                  type: object
                  properties:
                    terminal_id:
                      type: string
                      maxLength: 64
              required:
                - merchant_action_id
                - amount
            examples:
              example:
                value:
                  merchant_action_id: string
                  amount:
                    currency: SGD
                    value: string
                  terminal_data:
                    terminal_id: string
        description: Capture
      callbacks:
        captureCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Capture is created.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/CaptureEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      security: []
  '/v1/transaction/{trans_id}/refund':
    parameters:
      - schema:
          type: string
        name: trans_id
        in: path
        required: true
        description: GL Transaction ID from Authorization Response
    post:
      summary: Refund
      operationId: post-transaction-trans_id-refund
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModificationResponse'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      description: Refund
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Refund
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
                initiating_reason:
                  type: string
                  maxLength: 128
                amount:
                  $ref: '#/components/schemas/TransAmountRequest'
                terminal_data:
                  type: object
                  properties:
                    terminal_id:
                      type: string
                      maxLength: 64
              required:
                - merchant_action_id
                - initiating_reason
                - amount
            examples:
              example:
                value:
                  merchant_action_id: string
                  initiating_reason: string
                  amount:
                    currency: SGD
                    value: string
                  terminal_data:
                    terminal_id: string
        description: Refund
      callbacks:
        refundCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Refund is created.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/RefundEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      security: []
  '/v1/transaction/{trans_id}/cancel':
    parameters:
      - schema:
          type: string
        name: trans_id
        in: path
        required: true
        description: GL Transaction ID from Authorization Response
    post:
      summary: Cancel
      operationId: post-transaction-trans_id-cancel
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModificationResponse'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      description: Cancel
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Cancel
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
                initiating_reason:
                  type: string
                  maxLength: 128
                terminal_data:
                  type: object
                  properties:
                    terminal_id:
                      type: string
                      maxLength: 64
              required:
                - merchant_action_id
                - initiating_reason
            examples:
              example:
                value:
                  merchant_action_id: string
                  initiating_reason: string
                  terminal_data:
                    terminal_id: string
        description: Cancel
      callbacks:
        cancelCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Cancel is created.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/CancelEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      security: []
  /v1/payment_method:
    post:
      summary: Add Payment Method
      operationId: post-payment-method
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  action_time:
                    type: string
                  merchant_action_id:
                    type: string
                  result:
                    $ref: '#/components/schemas/TransResult'
                  three_ds:
                    type: object
                    properties:
                      redirection_url:
                        type: string
                      sdk_auth_response:
                        type: string
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  payment_method:
                    type: object
                    properties:
                      card:
                        $ref: '#/components/schemas/PaymentMethodCardResponse'
                      token:
                        $ref: '#/components/schemas/PaymentMethodTokenResponse'
                      fingerprint:
                        type: string
                  status:
                    $ref: '#/components/schemas/TransStatus'
                  metadata:
                    type: string
              examples:
                example:
                  value:
                    action_time: string
                    merchant_action_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
                    three_ds:
                      redirection_url: string
                      sdk_auth_response: string
                    payer:
                      reference_id: string
                    payment_method:
                      card:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        variant: string
                        issuing_country: string
                        issuing_bank: string
                      token:
                        token_id: string
                      fingerprint: string
                    status: pending
                    metadata: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  description: 'Unique transaction id assigned by merchant for each request. '
                  maxLength: 64
                route_indicator:
                  type: string
                  description: Used to define routing algorithm to be used in a transaction
                  maxLength: 16
                require_3ds:
                  type: boolean
                  description: 'This parameter indicates if you want to perform 3DS for a transaction or not. Allowed values: true or false. Default value is false.'
                three_ds:
                  type: object
                  description: Mandatory when require_3ds parameter is set.
                  properties:
                    return_url:
                      type: string
                      maxLength: 256
                      format: uri
                    browser_info:
                      $ref: '#/components/schemas/TransBrowserInfo'
                    account_info:
                      $ref: '#/components/schemas/TransAccountInfo'
                    sdk_auth_request:
                      type: string
                      description: |-
                        Mandatory for Native App Based 3DS2 Authentication.

                        Packed form of all other properties from 3DS2 SDK. The value consists of App ID, SDK Trans ID, Encrypted Device Data, Ephemeral Public Key, SDK Ref Number, SDK Max Timeout, Message Version, Interface and UI Type Options,

                        Can be obtained from 3DS2 SDK.
                      maxLength: 65000
                three_ds_data:
                  $ref: '#/components/schemas/Trans3dsData'
                payer:
                  $ref: '#/components/schemas/TransPayerRequest'
                device_info:
                  $ref: '#/components/schemas/TransDeviceInfo'
                payment_method:
                  type: object
                  properties:
                    card:
                      $ref: '#/components/schemas/PaymentMethodCardRequest'
                metadata:
                  type: string
              required:
                - merchant_action_id
                - payment_method
            examples:
              example:
                value:
                  merchant_action_id: string
                  route_indicator: string
                  require_3ds: true
                  three_ds:
                    return_url: 'http://example.com'
                    browser_info:
                      accept_header: string
                      user_agent: string
                      language: string
                      color_depth: 0
                      screen_height: 0
                      screen_width: 0
                      java_enabled: true
                      javascript_enabled: true
                      timezone_offset: strin
                    account_info:
                      account_age_indicator: '01'
                      account_change_date: '20190824'
                      account_change_indicator: '01'
                      account_date: '20190824'
                      account_password_change_date: '20190824'
                      account_password_change_indicator: '01'
                      account_purchase_count: 0
                      account_provisioning_attempts: 0
                      account_day_transactions: 0
                      account_year_transactions: 0
                      payment_account_age: '20190824'
                      payment_account_age_indicator: '01'
                      ship_address_usage_date: '20190824'
                      ship_address_usage_indicator: '01'
                      ship_name_indicator: '01'
                      suspicious_account_activity: true
                    sdk_auth_request: string
                  three_ds_data:
                    xid: string
                    ds_trans_id: string
                    status: 'Y'
                    eci: str
                    auth_value: string
                    auth_algo: string
                    version: string
                  payer:
                    reference_id: string
                    name: string
                    email: string
                    phone: string
                    billing_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                    shipping_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                  device_info:
                    app_version: string
                    platform: string
                    spec: string
                    ip: string
                    geo_location:
                      latitude: string
                      longitude: string
                  payment_method:
                    card:
                      number: string
                      expiry_month: string
                      expiry_year: string
                      cvc: string
                      holder_name: string
                      create_token: false
                  metadata: string
        description: Add Payment Method
      callbacks:
        paymentmethodCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Payment Method is created.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/PaymentMethodEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      description: Add Payment Method
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Payment Method
      security:
        - API Key: []
    parameters: []
  '/v1/payment_method/{token_id}':
    parameters:
      - schema:
          type: string
        name: token_id
        in: path
        required: true
        description: Token ID
    get:
      summary: Retrieve Payment Method
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  action_time:
                    type: string
                  merchant_action_id:
                    type: string
                  result:
                    $ref: '#/components/schemas/TransResult'
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  payment_method:
                    type: object
                    properties:
                      card:
                        $ref: '#/components/schemas/PaymentMethodCardResponse'
                      token:
                        $ref: '#/components/schemas/PaymentMethodTokenResponse'
                      fingerprint:
                        type: string
                  metadata:
                    type: string
              examples:
                example:
                  value:
                    action_time: string
                    merchant_action_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
                    payer:
                      reference_id: string
                    payment_method:
                      card:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        variant: string
                        issuing_country: string
                        issuing_bank: string
                      token:
                        token_id: string
                      fingerprint: string
                    metadata: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: get-payment-method-id
      parameters:
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            format: uuid
          in: header
          name: X-Request-ID
        - schema:
            type: string
            minLength: 1
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      description: Retrieve Payment Method
      tags:
        - Payment Method
      security:
        - API Key: []
    delete:
      summary: Delete Payment Method
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  action_time:
                    type: string
                  merchant_action_id:
                    type: string
                  result:
                    $ref: '#/components/schemas/TransResult'
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  payment_method:
                    type: object
                    properties:
                      card:
                        $ref: '#/components/schemas/PaymentMethodCardResponse'
                      token:
                        $ref: '#/components/schemas/PaymentMethodTokenResponse'
                      fingerprint:
                        type: string
                  metadata:
                    type: string
              examples:
                example:
                  value:
                    action_time: string
                    merchant_action_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
                    payer:
                      reference_id: string
                    payment_method:
                      card:
                        brand: string
                        first_6: string
                        last_4: string
                        funding_type: string
                        variant: string
                        issuing_country: string
                        issuing_bank: string
                      token:
                        token_id: string
                      fingerprint: string
                    metadata: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: delete-payment-method-id
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      description: Delete Payment Method
      tags:
        - Payment Method
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
              required:
                - merchant_action_id
            examples:
              example:
                value:
                  merchant_action_id: string
        description: Delete Payment Method
      callbacks:
        paymentmethodCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time a Payment Method is deleted.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/PaymentMethodEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      security:
        - API Key: []
  /v1/order:
    post:
      summary: Create Order
      operationId: post-order
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  order_id:
                    type: string
                  merchant_order_num:
                    type: string
                  order_status:
                    type: string
                  payer:
                    $ref: '#/components/schemas/TransPayerResponse'
                  cart:
                    type: object
                    properties:
                      cart_currency:
                        type: string
                      cart_total:
                        type: string
                  hpp:
                    type: object
                    properties:
                      redirect_url:
                        type: string
                  metadata:
                    type: string
              examples:
                example:
                  value:
                    order_id: string
                    merchant_order_num: string
                    order_status: string
                    payer:
                      reference_id: string
                    cart:
                      cart_currency: string
                      cart_total: string
                    hpp:
                      redirect_url: string
                    metadata: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_order_num:
                  type: string
                  description: The value of this parameter can be used to refer a transaction to the particular order record in merchant's system.
                  maxLength: 50
                route_indicator:
                  type: string
                  description: Used to define routing algorithm to be used in a transaction
                  maxLength: 20
                require_3ds:
                  type: boolean
                  description: 'This parameter indicates if you want to perform 3DS for a transaction or not. Allowed values: true or false. Default value is false.'
                payer:
                  $ref: '#/components/schemas/OrderPayerRequest'
                statement_descriptor:
                  type: string
                  maxLength: 25
                cart:
                  type: object
                  required:
                    - cart_currency
                    - cart_total
                  properties:
                    cart_currency:
                      type: string
                      minLength: 3
                      maxLength: 3
                      example: SGD
                      description: Currency of the shopping cart
                    cart_total:
                      type: string
                      description: 'Total order amount, must be greater than 0.00'
                      maxLength: 20
                    cart_subtotal:
                      type: string
                      maxLength: 20
                    cart_discount:
                      type: string
                      maxLength: 20
                    cart_tax:
                      type: string
                      maxLength: 20
                    cart_shipping_fee:
                      type: string
                      maxLength: 20
                    cart_admin_fee:
                      type: string
                      maxLength: 20
                    cart_items:
                      type: array
                      maxItems: 50
                      items:
                        type: object
                        properties:
                          item_name:
                            type: string
                            maxLength: 200
                          item_quantity:
                            type: integer
                          item_price:
                            type: string
                            maxLength: 20
                          item_image:
                            type: string
                            maxLength: 2000
                            format: uri
                          item_option:
                            type: string
                            maxLength: 200
                hpp:
                  type: object
                  required:
                    - return_url
                    - cancel_url
                  properties:
                    return_url:
                      type: string
                      maxLength: 2000
                      format: uri
                    cancel_url:
                      type: string
                      maxLength: 2000
                      format: uri
                    browser_info:
                      type: object
                      properties:
                        user_agent:
                          type: string
                          maxLength: 200
                        ip:
                          type: string
                          maxLength: 39
                          format: ipv4
                metadata:
                  type: string
                  description: |-
                    Fields: 20
                    Key Length: 200
                    Value Length: 200
              required:
                - payer
                - cart
                - hpp
            examples:
              example:
                value:
                  merchant_order_num: string
                  route_indicator: string
                  require_3ds: true
                  payer:
                    reference_id: string
                    name: string
                    email: string
                    phone: string
                    billing_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                    shipping_address:
                      city: string
                      country: st
                      state: string
                      building_name: string
                      street: string
                      postal_code: string
                  statement_descriptor: string
                  cart:
                    cart_currency: SGD
                    cart_total: string
                    cart_subtotal: string
                    cart_discount: string
                    cart_tax: string
                    cart_shipping_fee: string
                    cart_admin_fee: string
                    cart_items:
                      - item_name: string
                        item_quantity: 0
                        item_price: string
                        item_image: 'http://example.com'
                        item_option: string
                  hpp:
                    return_url: 'http://example.com'
                    cancel_url: 'http://example.com'
                    browser_info:
                      user_agent: string
                      ip: 192.168.0.1
                  metadata: string
        description: Create Order
      callbacks:
        orderCallback:
          'https://{webhook_endpoint}':
            post:
              description: An event triggered every time an Order is completed.
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OrderEvent'
              responses:
                '200':
                  description: OK
              parameters:
                - schema:
                    type: string
                    description: application/json
                    maxLength: 32
                  in: header
                  name: Content-Type
                  required: true
                  description: application/json
                - schema:
                    type: string
                    description: HMAC-SHA512
                    maxLength: 256
                  in: header
                  name: Signature
                  required: true
                  description: HMAC-SHA512
                - schema:
                    type: string
                    description: UNIX Timestamp
                    maxLength: 16
                  in: header
                  name: Timestamp
                  required: true
                  description: Unix Timestamp
                - schema:
                    type: string
                    maxLength: 256
                  in: header
                  name: X-Api-Key
                  description: API Key
                  required: true
      description: |-
        Create Order API creates Hosted Payment Page Session and returns Redirect URL in the response. 

        Once consumer redirected to the provded URL and complete the payment, the transaction result callback will be triggered through webhook to designated merchant's endpoint, consumer will be redirected back to Return URL. 
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Hosted Payment Page
      security:
        - API Key: []
    parameters: []
  '/v1/order/{order_id}':
    parameters:
      - schema:
          type: string
        name: order_id
        in: path
        required: true
    get:
      summary: Retrieve Order
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  order:
                    type: object
                    properties:
                      order_id:
                        type: string
                      merchant_order_num:
                        type: string
                      order_time:
                        type: string
                      order_status:
                        type: string
                      payer:
                        $ref: '#/components/schemas/TransPayerResponse'
                      cart:
                        type: object
                        properties:
                          cart_total:
                            type: object
                            properties:
                              currency:
                                type: string
                              value:
                                type: string
                      metadata:
                        type: string
                  transaction:
                    type: object
                    properties:
                      trans_id:
                        type: string
                      action_time:
                        type: string
                      merchant_action_id:
                        type: string
                      trans_amount:
                        type: object
                        properties:
                          currency:
                            type: string
                          value:
                            type: string
                      result:
                        type: object
                        properties:
                          code:
                            type: string
                          message:
                            type: string
                          raw_message:
                            type: string
                      auth_code:
                        type: string
                      cvc_result:
                        type: string
                      avs_result:
                        type: string
                      acquirer_reference:
                        type: string
                      payer:
                        $ref: '#/components/schemas/TransPayerResponse'
                      payment_method:
                        type: object
                        properties:
                          card:
                            type: object
                            properties:
                              brand:
                                type: string
                              first_6:
                                type: string
                              last_4:
                                type: string
                              funding_type:
                                type: string
                              category:
                                type: string
                              issuing_country:
                                type: string
                              issuing_bank:
                                type: string
                          token:
                            type: object
                            properties:
                              token_id:
                                type: string
                          fingerprint:
                            type: string
                      trans_status:
                        type: string
              examples:
                example:
                  value:
                    order:
                      order_id: string
                      merchant_order_num: string
                      order_time: string
                      order_status: string
                      payer:
                        reference_id: string
                      cart:
                        cart_total:
                          currency: string
                          value: string
                      metadata: string
                    transaction:
                      trans_id: string
                      action_time: string
                      merchant_action_id: string
                      trans_amount:
                        currency: string
                        value: string
                      result:
                        code: string
                        message: string
                        raw_message: string
                      auth_code: string
                      cvc_result: string
                      avs_result: string
                      acquirer_reference: string
                      payer:
                        reference_id: string
                      payment_method:
                        card:
                          brand: string
                          first_6: string
                          last_4: string
                          funding_type: string
                          category: string
                          issuing_country: string
                          issuing_bank: string
                        token:
                          token_id: string
                        fingerprint: string
                      trans_status: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: get-order-order_id
      description: Retrieve Order
      security:
        - API Key: []
      parameters:
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            format: uuid
          in: header
          name: X-Request-ID
        - schema:
            type: string
            minLength: 1
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Hosted Payment Page
  '/v1/terminal/{terminal_id}/batch':
    get:
      summary: Retrieve Open Batch Summary
      tags:
        - Terminal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TerminalBatchSummary'
              examples:
                example:
                  value:
                    terminal_data:
                      terminal_id: string
                    batch_id: string
                    batch_summary:
                      batch_count: 0
                      batch_amount:
                        currency: string
                        value: string
                      auth_count: 0
                      auth_amount:
                        currency: string
                        value: string
                      capture_count: 0
                      capture_amount:
                        currency: string
                        value: string
                      refund_count: 0
                      refund_amount:
                        currency: string
                        value: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: get-v1-terminal-terminal_id-batch
      parameters:
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            format: uuid
          in: header
          name: X-Request-ID
        - schema:
            type: string
            minLength: 1
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      description: Retrieve Open Batch Summary API returns the batch total and count of all types of transactions performed. The batch summary will only include transactions that will be settled upon batch closing.
    parameters:
      - schema:
          type: string
        name: terminal_id
        in: path
        required: true
  '/v1/terminal/{terminal_id}/batch/{batch_id}':
    parameters:
      - schema:
          type: string
        name: terminal_id
        in: path
        required: true
      - schema:
          type: string
        name: batch_id
        in: path
        required: true
    get:
      summary: Retrieve Open Batch Details
      tags:
        - Terminal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    type: object
                    properties:
                      page:
                        type: integer
                      total:
                        type: integer
                  terminal_data:
                    type: object
                    properties:
                      terminal_id:
                        type: string
                  batch_id:
                    type: string
                  batch_details:
                    type: object
                    properties:
                      trans_id:
                        type: string
                      action_type:
                        type: string
                      action_time:
                        type: string
                      merchant_action_id:
                        type: string
                      amount:
                        $ref: '#/components/schemas/TransAmountResponse'
              examples:
                example:
                  value:
                    pagination:
                      page: 0
                      total: 0
                    terminal_data:
                      terminal_id: string
                    batch_id: string
                    batch_details:
                      trans_id: string
                      action_type: string
                      action_time: string
                      merchant_action_id: string
                      amount:
                        currency: string
                        value: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: get-v1-terminal-terminal_id-batch-batch_id
      description: Retrieve Open Batch Details API returns all types of transactions performed within the open batch. The batch details will only include transactions that will be settled upon batch closing.
      parameters:
        - schema:
            type: integer
          in: query
          name: page
          description: 'page number, default is 1'
        - schema:
            type: integer
          in: query
          name: size
          description: 'page size, default is 50'
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            format: uuid
          in: header
          name: X-Request-ID
        - schema:
            type: string
            minLength: 1
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
  '/v1/terminal/{terminal_id}/batch/{batch_id}/close':
    parameters:
      - schema:
          type: string
        name: terminal_id
        in: path
        required: true
      - schema:
          type: string
        name: batch_id
        in: path
        required: true
    post:
      summary: Batch Closing
      operationId: post-v1-terminal-terminal_id-batch-batch_id-close
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TerminalBatchClosing'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    result:
                      code: string
                      message: string
                      raw_message: string
                    terminal_data:
                      terminal_id: string
                    batch_id: string
                    batch_summary:
                      batch_count: 0
                      batch_amount:
                        currency: string
                        value: string
                      auth_count: 0
                      auth_amount:
                        currency: string
                        value: string
                      capture_count: 0
                      capture_amount:
                        currency: string
                        value: string
                      refund_count: 0
                      refund_amount:
                        currency: string
                        value: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      description: Batch Closing
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Terminal
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
              required:
                - merchant_action_id
            examples:
              example:
                value:
                  merchant_action_id: string
  '/v1/transaction/{trans_id}/tc':
    parameters:
      - schema:
          type: string
        name: trans_id
        in: path
        required: true
    post:
      summary: TC Upload
      operationId: post-v1-transaction-trans_id-tc
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  action_time:
                    type: string
                    description: |-
                      ISO-8601 standard date-time format (e.g. "2019-09-26T07:58:30.996+0200")

                      Datetime of this transaction happen
                  action_id:
                    type: string
                  merchant_action_id:
                    type: string
                  status:
                    $ref: '#/components/schemas/TransStatus'
                  amount:
                    $ref: '#/components/schemas/TransAmountResponse'
                  terminal_data:
                    type: object
                    properties:
                      terminal_id:
                        type: string
                  result:
                    $ref: '#/components/schemas/TransResult'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      description: TC Upload
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
                amount:
                  $ref: '#/components/schemas/TransAmountRequest'
                terminal_data:
                  type: object
                  properties:
                    terminal_id:
                      type: string
                      maxLength: 64
                    pos_entry_mode:
                      type: object
                      properties:
                        pan_entry:
                          type: string
                          enum:
                            - unknown
                            - manual
                            - magstripe
                            - chip
                            - contactless_chip
                            - contactless_magstripe
                            - fallback_magstripe
                          maxLength: 32
                        pin_entry:
                          type: string
                          enum:
                            - unknown
                            - enabled
                            - disabled
                            - error
                          maxLength: 16
                    pos_condition_code:
                      type: string
                      enum:
                        - attended
                        - unattended
                        - mail_order
                      maxLength: 16
                payment_method:
                  type: object
                  properties:
                    card_present:
                      $ref: '#/components/schemas/PaymentMethodCardPresentRequest'
              required:
                - merchant_action_id
                - amount
            examples:
              example:
                value:
                  merchant_action_id: string
                  amount:
                    currency: SGD
                    value: string
                  terminal_data:
                    terminal_id: string
                    pos_entry_mode:
                      pan_entry: unknown
                      pin_entry: unknown
                    pos_condition_code: attended
                  payment_method:
                    card_present:
                      number: string
                      expiry_month: string
                      expiry_year: string
                      cvc: string
                      sequence_num: string
                      icc_data: string
                      track2_data: string
        description: TC Upload
      security: []
      tags:
        - Terminal
  '/v1/terminal/{terminal_id}/reversal':
    parameters:
      - schema:
          type: string
        name: terminal_id
        in: path
        required: true
    post:
      summary: Reversal
      operationId: post-v1-terminal-terminal_id-reversal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModificationResponse'
              examples:
                example:
                  value:
                    action_time: string
                    action_id: string
                    merchant_action_id: string
                    status: pending
                    amount:
                      currency: string
                      value: string
                    terminal_data:
                      terminal_id: string
                    result:
                      code: string
                      message: string
                      raw_message: string
      description: Reversal
      parameters:
        - schema:
            type: string
            description: application/json
            maxLength: 32
          in: header
          name: Content-Type
          required: true
          description: application/json
        - schema:
            type: string
            description: HMAC-SHA512
            maxLength: 256
          in: header
          name: Signature
          required: true
          description: HMAC-SHA512
        - schema:
            type: string
            description: UNIX Timestamp
            maxLength: 16
          in: header
          name: Timestamp
          required: true
          description: Unix Timestamp
        - schema:
            type: string
            maxLength: 64
          in: header
          name: Idempotency-Key
          description: Unique value generated by the merchant used to identify subsequent retries of the same request as long as other details remain the same.
        - schema:
            type: string
            format: uuid
            maxLength: 64
          in: header
          name: X-Request-ID
          description: Unique Message ID
        - schema:
            type: string
            maxLength: 256
          in: header
          name: X-Api-Key
          description: API Key
          required: true
      tags:
        - Terminal
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                merchant_action_id:
                  type: string
                  maxLength: 64
                original_merchant_action_id:
                  type: string
                  maxLength: 64
              required:
                - merchant_action_id
                - original_merchant_action_id
            examples:
              example:
                value:
                  merchant_action_id: string
                  original_merchant_action_id: string
        description: Reversal
components:
  schemas:
    PaymentMethodCardResponse:
      type: object
      properties:
        brand:
          type: string
        first_6:
          type: string
        last_4:
          type: string
        funding_type:
          type: string
        variant:
          type: string
        issuing_country:
          type: string
        issuing_bank:
          type: string
    PaymentMethodTokenResponse:
      type: object
      properties:
        token_id:
          type: string
    PaymentMethodCardPresentResponse:
      type: object
      description: Mandatory for Card Present transaction
      properties:
        brand:
          type: string
        first_6:
          type: string
        last_4:
          type: string
        funding_type:
          type: string
        icc_data:
          type: string
    PaymentMethodCardRequest:
      type: object
      properties:
        number:
          type: string
          maxLength: 768
        expiry_month:
          type: string
          maxLength: 768
        expiry_year:
          type: string
          maxLength: 768
        cvc:
          type: string
          maxLength: 768
        holder_name:
          type: string
          maxLength: 768
        create_token:
          type: boolean
          default: false
    PaymentMethodTokenRequest:
      type: object
      properties:
        token_id:
          type: string
          maxLength: 40
    PaymentMethodCardPresentRequest:
      type: object
      description: Mandatory for Card Present transaction
      properties:
        number:
          type: string
          maxLength: 768
        expiry_month:
          type: string
          maxLength: 768
        expiry_year:
          type: string
          maxLength: 768
        cvc:
          type: string
          maxLength: 768
        sequence_num:
          type: string
          maxLength: 768
        icc_data:
          type: string
          description: Mandatory for chip and contactless transaction.
          maxLength: 256
        track2_data:
          type: string
          maxLength: 256
    TransSubMerchant:
      type: object
      properties:
        id:
          type: string
          maxLength: 15
        name:
          type: string
          maxLength: 32
        city:
          type: string
          maxLength: 100
        country:
          type: string
          maxLength: 2
        state:
          type: string
          maxLength: 100
        street:
          type: string
          maxLength: 48
        postal_code:
          type: string
          maxLength: 10
        mcc:
          type: string
          maxLength: 4
    TransDeviceInfo:
      type: object
      properties:
        app_version:
          type: string
          maxLength: 16
        platform:
          type: string
          maxLength: 16
        spec:
          type: string
          maxLength: 32
        ip:
          type: string
          maxLength: 32
        geo_location:
          type: object
          properties:
            latitude:
              type: string
              maxLength: 16
            longitude:
              type: string
              maxLength: 16
    TransPayerRequest:
      type: object
      properties:
        reference_id:
          type: string
          description: Unique customer identifier.
          maxLength: 50
        name:
          type: string
          maxLength: 250
        email:
          type: string
          maxLength: 250
        phone:
          type: string
          maxLength: 20
        billing_address:
          type: object
          properties:
            city:
              type: string
              maxLength: 100
            country:
              type: string
              maxLength: 2
            state:
              type: string
              maxLength: 100
            building_name:
              type: string
              maxLength: 100
            street:
              type: string
              maxLength: 100
            postal_code:
              type: string
              maxLength: 10
        shipping_address:
          type: object
          properties:
            city:
              type: string
              maxLength: 100
            country:
              type: string
              maxLength: 2
            state:
              type: string
              maxLength: 100
            building_name:
              type: string
              maxLength: 100
            street:
              type: string
              maxLength: 100
            postal_code:
              type: string
              maxLength: 10
    TransPayerResponse:
      type: object
      properties:
        reference_id:
          type: string
    TransAmountRequest:
      type: object
      required:
        - currency
        - value
      properties:
        currency:
          type: string
          minLength: 3
          maxLength: 3
          example: SGD
        value:
          type: string
          maxLength: 16
    TransAmountResponse:
      type: object
      properties:
        currency:
          type: string
        value:
          type: string
    TransBrowserInfo:
      type: object
      description: Mandatory for Web/Browser Based 3DS Authentication.
      properties:
        accept_header:
          type: string
          maxLength: 128
        user_agent:
          type: string
          maxLength: 128
        language:
          type: string
          maxLength: 32
        color_depth:
          type: integer
        screen_height:
          type: integer
        screen_width:
          type: integer
        java_enabled:
          type: boolean
        javascript_enabled:
          type: boolean
        timezone_offset:
          type: string
          maxLength: 5
    TransAccountInfo:
      type: object
      description: The account information is used to improve the chance for Frictionless 3DS2 Authentication.
      properties:
        account_age_indicator:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
            - '05'
          maxLength: 2
        account_change_date:
          type: string
          maxLength: 8
          minLength: 8
        account_change_indicator:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
          maxLength: 2
        account_date:
          type: string
          maxLength: 8
          minLength: 8
        account_password_change_date:
          type: string
          minLength: 8
          maxLength: 8
        account_password_change_indicator:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
            - '05'
          maxLength: 2
        account_purchase_count:
          type: number
        account_provisioning_attempts:
          type: number
        account_day_transactions:
          type: number
        account_year_transactions:
          type: number
        payment_account_age:
          type: string
          maxLength: 8
          minLength: 8
        payment_account_age_indicator:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
            - '05'
          maxLength: 2
        ship_address_usage_date:
          type: string
          minLength: 8
          maxLength: 8
        ship_address_usage_indicator:
          type: string
          enum:
            - '01'
            - '02'
            - '03'
            - '04'
          maxLength: 2
        ship_name_indicator:
          type: string
          enum:
            - '01'
            - '02'
          maxLength: 2
        suspicious_account_activity:
          type: boolean
    Trans3dsData:
      type: object
      description: Merchant may perform 3DS authentication using third party MPI/3DS Server and include the result here.
      properties:
        xid:
          type: string
          description: To be used for 3D Secure v1 only
          maxLength: 64
        ds_trans_id:
          type: string
          description: To be used for 3D Secure v2 only
          maxLength: 64
        status:
          type: string
          enum:
            - 'Y'
            - 'N'
            - A
            - U
          maxLength: 1
        eci:
          type: string
          maxLength: 3
        auth_value:
          type: string
          maxLength: 32
        auth_algo:
          type: string
          maxLength: 32
        version:
          type: string
          maxLength: 16
    TransStatus:
      type: string
      enum:
        - pending
        - action required
        - failed
        - success
    TransResult:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        raw_message:
          type: string
    OrderPayerRequest:
      type: object
      properties:
        reference_id:
          type: string
          description: Unique customer identifier.
          maxLength: 50
        name:
          type: string
          maxLength: 250
        email:
          type: string
          maxLength: 250
        phone:
          type: string
          maxLength: 20
        billing_address:
          type: object
          properties:
            city:
              type: string
              maxLength: 100
            country:
              type: string
              maxLength: 2
            state:
              type: string
              maxLength: 100
            building_name:
              type: string
              maxLength: 100
            street:
              type: string
              maxLength: 100
            postal_code:
              type: string
              maxLength: 10
        shipping_address:
          type: object
          properties:
            city:
              type: string
              maxLength: 100
            country:
              type: string
              maxLength: 2
            state:
              type: string
              maxLength: 100
            building_name:
              type: string
              maxLength: 100
            street:
              type: string
              maxLength: 100
            postal_code:
              type: string
              maxLength: 10
      required:
        - name
        - email
    ModificationResponse:
      type: object
      properties:
        action_time:
          type: string
          description: |-
            ISO-8601 standard date-time format (e.g. "2019-09-26T07:58:30.996+0200")
            Datetime of this transaction happen
        action_id:
          type: string
        merchant_action_id:
          type: string
        status:
          $ref: '#/components/schemas/TransStatus'
        amount:
          $ref: '#/components/schemas/TransAmountResponse'
        terminal_data:
          type: object
          properties:
            terminal_id:
              type: string
        result:
          $ref: '#/components/schemas/TransResult'
    ErrorResponse:
      type: object
      properties:
        target:
          type: string
        reason:
          type: string
        message:
          type: string
    WebhookRequest:
      type: object
      properties:
        action_time:
          type: string
        merchant_action_id:
          type: string
        amount:
          $ref: '#/components/schemas/TransAmountResponse'
        result:
          $ref: '#/components/schemas/TransResult'
        event_type:
          type: string
        status:
          $ref: '#/components/schemas/TransStatus'
        terminal_data:
          type: object
          properties:
            terminal_id:
              type: string
        action_id:
          type: string
    WebhookRequestAdditional:
      type: object
      properties:
        merchant_order_num:
          type: string
        trans_id:
          type: string
        auth_code:
          type: string
        cvc_result:
          type: string
        avs_result:
          type: string
        acquirer_reference:
          type: string
        payer:
          $ref: '#/components/schemas/TransPayerResponse'
        payment_method:
          type: object
          properties:
            card:
              $ref: '#/components/schemas/PaymentMethodCardResponse'
            token:
              $ref: '#/components/schemas/PaymentMethodTokenResponse'
            card_present:
              $ref: '#/components/schemas/PaymentMethodCardPresentResponse'
            fingerprint:
              type: string
        metadata:
          type: string
    OrderWebhookRequest:
      type: object
      properties:
        order:
          type: object
          properties:
            order_id:
              type: string
            merchant_order_num:
              type: string
            order_time:
              type: string
            order_status:
              type: string
            payer:
              $ref: '#/components/schemas/TransPayerResponse'
            cart:
              type: object
              properties:
                cart_total:
                  type: object
                  properties:
                    currency:
                      type: string
                    value:
                      type: string
            metadata:
              type: string
        transaction:
          type: object
          properties:
            trans_id:
              type: string
            action_time:
              type: string
            merchant_action_id:
              type: string
            trans_amount:
              type: object
              properties:
                currency:
                  type: string
                value:
                  type: string
            result:
              type: object
              properties:
                code:
                  type: string
                message:
                  type: string
                raw_message:
                  type: string
            auth_code:
              type: string
            cvc_result:
              type: string
            avs_result:
              type: string
            acquirer_reference:
              type: string
            payer:
              $ref: '#/components/schemas/TransPayerResponse'
            payment_method:
              type: object
              properties:
                card:
                  type: object
                  properties:
                    brand:
                      type: string
                    first_6:
                      type: string
                    last_4:
                      type: string
                    funding_type:
                      type: string
                    category:
                      type: string
                    issuing_country:
                      type: string
                    issuing_bank:
                      type: string
                token:
                  type: object
                  properties:
                    token_id:
                      type: string
                fingerprint:
                  type: string
            trans_status:
              type: string
    TransactionEvent:
      allOf:
        - $ref: '#/components/schemas/WebhookRequest'
        - $ref: '#/components/schemas/WebhookRequestAdditional'
    CaptureEvent:
      allOf:
        - $ref: '#/components/schemas/WebhookRequest'
    RefundEvent:
      allOf:
        - $ref: '#/components/schemas/WebhookRequest'
    CancelEvent:
      allOf:
        - $ref: '#/components/schemas/WebhookRequest'
    PaymentMethodEvent:
      allOf:
        - $ref: '#/components/schemas/WebhookRequest'
        - $ref: '#/components/schemas/WebhookRequestAdditional'
    OrderEvent:
      allOf:
        - $ref: '#/components/schemas/OrderWebhookRequest'
    TerminalBatchSummary:
      type: object
      properties:
        terminal_data:
          type: object
          properties:
            terminal_id:
              type: string
        batch_id:
          type: string
        batch_summary:
          type: object
          properties:
            batch_count:
              type: integer
            batch_amount:
              $ref: '#/components/schemas/TransAmountResponse'
            auth_count:
              type: integer
            auth_amount:
              $ref: '#/components/schemas/TransAmountResponse'
            capture_count:
              type: integer
            capture_amount:
              $ref: '#/components/schemas/TransAmountResponse'
            refund_count:
              type: integer
            refund_amount:
              $ref: '#/components/schemas/TransAmountResponse'
    ActionResponse:
      type: object
      properties:
        action_time:
          type: string
          description: |-
            ISO-8601 standard date-time format (e.g. "2019-09-26T07:58:30.996+0200")
            Datetime of this transaction happen
        action_id:
          type: string
        merchant_action_id:
          type: string
        status:
          $ref: '#/components/schemas/TransStatus'
        result:
          $ref: '#/components/schemas/TransResult'
    TerminalBatchClosing:
      allOf:
        - $ref: '#/components/schemas/ActionResponse'
        - $ref: '#/components/schemas/TerminalBatchSummary'
  securitySchemes:
    API Key:
      name: X-Api-Key
      type: apiKey
      in: header
tags:
  - name: Transaction
  - name: Capture
  - name: Refund
  - name: Cancel
  - name: Payment Method
  - name: Hosted Payment Page
  - name: Terminal
  - name: Webhooks
    x-displayName: Webhooks
    description: |
      ## Transaction API callback

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/TransactionEvent" />

      ## Capture API callback

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/CaptureEvent" />

      ## Refund API callback

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/RefundEvent" />

      ## Cancel API callback

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/CancelEvent" />

      ## Payment Method API callback

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/PaymentMethodEvent" />

      ## Order API Webhook

      Following request-body is send as POST request on the URL used to register the callback:

      <SchemaDefinition schemaRef="#/components/schemas/OrderEvent" />
  - name: Result Codes
    x-displayName: Result Codes
    description: |
      - S0000 - Success
      - S0001 - Received
      - S0002 - Processing
      - S0003 - funds holding for immediate capture
      - S0004 - SecurePlus
      - S0005 - RedirectShopper
      - S0006 - Pending
      - S0007 - Authentication not supported
      - S0008 - Authentication finished
      - V0001 - Not allowed
      - V0002 - Invalid or empty request data
      - V0003 - Request already processed
      - V0004 - PaymentMethod not found
      - V0005 - Invalid Authorisation Type supplied
      - V0006 - MsgID length must be between 1 to 36
      - V0007 - Invalid card number
      - V0008 - Unable to determine variant
      - V0009 - Invalid Idempotency-Key
      - V0010 - Billing address problem
      - V0011 - Invalid paRes from issuer
      - V0012 - V0012
      - V0013 - RouteIndicator alphanumeric underscore and max length is 16
      - V0014 - StoreNum alphanumeric underscore hyphen and max length is 15
      - V0015 - Token max length is 36
      - V0016 - PayerReference alphanumeric underscore hyphen and max length is 64
      - V0017 - VaultID is mandatory and max length is 36
      - V0018 - This bank country is not supported
      - V0019 - ChannelType must be either 'card', 'Alipay', 'Apple Pay','GrabPay', 'token'
      - V0020 - Received an incorrect InvoiceLine
      - V0021 - Metadata must be key: value
      - V0022 - Invalid date of birth
      - V0023 - DateTime must be a valid date format (YYYYMMDD+0800)
      - V0024 - Invalid delivery address
      - V0025 - PayerStatement max length is 64
      - V0026 - CaptureAfterHours must be integer between 0 to 1800
      - V0027 - ShopperReference is missing
      - V0028 - GLTransID max length is 32
      - V0029 - Contract must be either 'ONECLICK', 'RECURRING' or 'ONECLICK,RECURRING'
      - V0030 - CardHolderName max length is 64
      - V0031 - The transaction currency must be the same as the original transaction currency
      - V0032 - Bank Account or Bank Location Id not valid or missing
      - V0033 - Account holder missing
      - V0034 - Card Holder Missing
      - V0035 - Expiry Date Invalid
      - V0037 - Billing address problem (City)
      - V0038 - Capture or refund value cannot be more than authorise value
      - V0039 - Invalid email
      - V0040 - Billing address problem (Country)
      - V0043 - Invalid amount specified
      - V0044 - Unsupported currency specified
      - V0047 - Invalid expiryMonth[1..12] / expiryYear[>2000]
      - V0048 - Bank Name or Bank Location not valid or missing
      - V0051 - Invalid issuer countrycode
      - V0059 - Invalid CVC
      - V0064 - Required field {0} not specified
      - V0072 - Amount not allowed for this operation
      - V0081 - Invalid shopperReference
      - V0082 - Invalid shopperEmail
      - V0089 - Invalid pspEchoData
      - V0090 - Invalid shopperStatement
      - V0091 - Invalid shopper IP
      - V0092 - No params specified
      - V0093 - Invalid field {%s}
      - V0100 - Invalid country code
      - V0102 - Invalid signature
      - V0103 - Invalid merchant transaction ID
      - V0104 - Original transaction not exist
      - V0105 - Invalid store number
      - V0106 - Original transaction is %s
      - V0107 - Missing psp token
      - V0108 - Customer Cancellation
      - V0109 - Customer Dispute
      - V0110 - No CREDIT Account
      - V0111 - Requested Function not Supported
      - V0112 - mpiImplementationType max length is 20
      - V0113 - riskProfileID max length is 20
      - V0114 - executeThreeD must be either 'true' or 'false'
      - V0115 - userAgent max length is 256
      - V0116 - acceptHeader max length is 100
      - V0117 - returnUrl max length is 300
      - V0118 - platform max length is 10
      - V0119 - spec max length is 30
      - V0120 - AppVersion max length is 20
      - V0121 - ShopperInteraction value must be either 'Ecommerce' or 'ContAuth'
      - V0122 - CreatedBy max length is 100
      - V0123 - PostalCode max length is 8
      - V0124 - invalid merchantOrderNum max length is 120 and only allow alphanumeric underscore, space and hyphen
      - V0125 - invalid initiatingReason max length is 120 and only allow alphanumeric underscore, space and hyphen
      - G0001 - Unknown
      - G0002 - Internal error
      - G0003 - Unable To Process
      - G0004 - Payment details are not supported
      - G0005 - Idempotency timeout
      - G0007 - Invalid request
      - G0010 - Problem parsing request
      - G0011 - Timeout
      - G0012 - MerchantTransID should be unique
      - C0001 - Invalid Merchant Account
      - C0002 - Invalid AcquirerAccount
      - C0003 - Routing Engine Reject
      - C0004 - Invalid psp name
      - C0005 - Configuration Error (apiKey)
      - C0008 - Configuration Error (currencyCode)
      - C0009 - Configuration Error (terminalId)
      - C0011 - Configuration Error (password)
      - C0020 - No router policy
      - C0021 - Invalid psp account
      - C0022 - Acquirer status is unavailable
      - C0023 - Store status is unavailable
      - C0024 - Merchant status is unavailable
      - C0025 - 
      - E0096 - System Error
      - E1001 - 3d-secure: Authentication failed
      - E0001 - Refer to card issuer
      - E0002 - Refer to card issuer, special condition
      - E0003 - Invalid Merchant
      - E0004 - Capture Card
      - E0005 - Do not honor
      - E0006 - Error
      - E0007 - Pick Up Card, Special Conditions
      - E0008 - Honor with ID
      - E0009 - Request in Progress
      - E0010 - Partial Approval
      - E0012 - Invalid Transaction
      - E0013 - Invalid Amount
      - E0014 - Invalid Card Number
      - E0015 - Invalid Issuer
      - E0017 - Customer Cancellation
      - E0018 - Customer Dispute
      - E0019 - Re-enter Transaction or Transaction has expired
      - E0020 - Invalid Response
      - E0021 - No Action Taken
      - E0022 - Suspected Malfunction
      - E0023 - Unacceptable Transaction Fee
      - E0024 - File Update Not Supported by the Receiver
      - E0025 - Unable to Locate Record on File
      - E0026 - Duplicate file update record
      - E0027 - File Update Field Edit Error
      - E0028 - File Update File Locked Out
      - E0029 - File Update not Successful
      - E0030 - Format Error
      - E0031 - Bank not Supported by Switch
      - E0032 - Completed Partially
      - E0039 - No CREDIT Account
      - E0040 - Requested Function not Supported
      - E0041 - Lost Card
      - E0042 - No Universal Value/Amount
      - E0043 - Stolen Card
      - E0044 - No Investment Account
      - E0051 - Insufficient funds/over credit limit
      - E0052 - No Cheque Account
      - E0053 - No Savings Account
      - E0054 - Expired Card
      - E0055 - Invalid PIN
      - E0056 - No Card Record
      - E0057 - Transaction not permitted to issuer/cardholder
      - E0058 - Transaction not permitted to acquirer/terminal
      - E0059 - Suspected Fraud
      - E0060 - Card Acceptor Contact Acquirer 
      - E0061 - Exceeds withdrawal amount limit
      - E0062 - Restricted card
      - E0063 - Security violation
      - E0064 - Transaction does not fulfill AML requirements
      - E0065 - Exceeds withdrawal count limit
      - E0066 - Card Acceptor Call Acquirer Security
      - E0067 - Hard Capture—Pick Up Card at ATM
      - E0068 - Response Received Too Late / Timeout
      - E0070 - Contact Card Issuer
      - E0075 - Allowable number of PIN tries exceeded
      - E0078 - Invalid/nonexistent account specified (general)
      - E0080 - Credit issuer unavailable
      - E0082 - No security model
      - E0083 - No accounts
      - E0086 - PIN validation not possible
      - E0091 - Authorization Platform or issuer system inoperative
      - E0092 - Destination cannot be found for routing / Unable to route transaction
      - E0093 - Transaction cannot be completed; violation of law
      - E0094 - Duplicate Transmission/Invoice
      - E001A - Additional customer authentication required
      - E00N0 - Unable to authorize
      - E00N7 - Decline for CVV2 failure
      - E00R1 - Issuer initiated a stop payment (revocation order) for the Authorization
      - E00R3 - Issuer initiated a stop payment (revocation order) for all Authorizations
      - E0187 - Deny New Card Issued
      - E0900 - Advice accepted
      - E0911 - Card Issuer timed out
      - E0912 - Host unavailable
      - E1000 - Issuer Catch All Response
      - E1016 - Issuer does not allow online gambling payout
      - E1017 - Issuer does not allow original credit transaction
      - E1018 - Issuer does not allow money transfer payout
      - E1019 - Issuer does not allow non-money transfer payout
      - E1020 - Invalid amount
      - E1021 - Total amount limit reached
      - E1084 - No PBF
      - E1085 - PBF update error
      - E1087 - Bad Track Data (invalid CVV and/or expiry date)
      - E1088 - Unable to Dispense/process
      - E1089 - Administration Error
      - E1090 - Cut-off in Progress
      - E1095 - Reconcile Error
      - E1097 - Reconciliation Totals Reset
      - E1098 - MAC Error
      - E10O5 - Pin Required
      - E10P1 - Over Daily Limit
      - E10P9 - Limit exceeded. Enter a lesser value.
      - E10S4 - PTLF Full
      - P0001 - PSP generic error
      - P0002 - PSP config error
      - P0003 - PSP internal error
      - P0004 - PSP fraud error
      - P0005 - PSP transaction not supported
      - P0006 - PSP transaction not found
